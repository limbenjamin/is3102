<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="./template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pf="http://primefaces.org/ui">
    <ui:define name="content">
        <section id="slider"><!--slider-->
            <div class="container">
                <div class="row">
                    <div class="col-sm-12">
                        <div id="slider-carousel" class="carousel slide" data-ride="carousel">
                            <h:form rendered="#{homeManagedBean.webBanners.size() > 1}">
                            <ol class="carousel-indicators">
                                <ui:repeat value="#{homeManagedBean.webBanners}" var="banner">
                                    <li data-target="#slider-carousel" data-slide-to="#{homeManagedBean.webBanners.indexOf(banner)}" 
                                        class="#{homeManagedBean.checkForActive(homeManagedBean.webBanners.indexOf(banner))}"></li>
                                </ui:repeat>
                            </ol>
                            </h:form>
                            <div class="carousel-inner">
                                <ui:repeat value="#{homeManagedBean.webBanners}" var="banner">
                                <div class="item #{homeManagedBean.checkForActive(homeManagedBean.webBanners.indexOf(banner))}">
                                    <div class="col-sm-6">
                                        <h1>#{banner.headerText}</h1>
                                        <h3>#{banner.subheaderText}</h3>
                                        <p>#{banner.bodyText}</p>
                                        <a href="#{banner.buttonUrl}">
                                            <button type="button" class="btn btn-default get">#{banner.buttonText}</button>
                                        </a>
                                    </div>
                                    <div class="col-sm-6">
                                        <pf:graphicImage value="#{pictureManagedBean.image}" style="height:400px;" styleClass="slider-image img-responsive">
                                            <f:param name="pictureId" value="#{banner.picture.id}" />
                                        </pf:graphicImage>
                                    </div>
                                </div>
                                </ui:repeat>
                            </div>
                            <h:form rendered="#{homeManagedBean.webBanners.size() > 1}">
                            <a href="#slider-carousel" class="left control-carousel hidden-xs" data-slide="prev">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a href="#slider-carousel" class="right control-carousel hidden-xs" data-slide="next">
                                <i class="fa fa-angle-right"></i>
                            </a>
                            </h:form>
                        </div>
                    </div>
                </div>
            </div>
        </section><!--/slider-->

        <section>
            <div class="container">
                <div class="row">
                    <div class="col-sm-3">
                        <div class="left-sidebar">
                            <div class="brands_products" style="margin-top: 20px;">
                                <h4 style="padding-left: 25px;"><strong>CATEGORIES (BY ROOM)</strong></h4>
                                <div class="brands-name">
                                    <ul class="nav nav-pills nav-stacked">
                                        <li><a href="bedroom.xhtml">
                                                <h:outputText value="#{bundle['nav.bedroom']}" /></a></li>
                                        <li><a href="living.xhtml"> 
                                                <h:outputText value="#{bundle['nav.living']}" /></a></li>
                                        <li><a href="kitchen.xhtml"> 
                                                <h:outputText value="#{bundle['nav.kitchen']}" /></a></li>
                                        <li><a href="dining.xhtml"> 
                                                <h:outputText value="#{bundle['nav.dining']}" /></a></li>
                                        <li><a href="bathroom.xhtml"> 
                                                <h:outputText value="#{bundle['nav.bathroom']}" /></a></li>
                                        <li><a href="workspace.xhtml"> 
                                                <h:outputText value="#{bundle['nav.workspace']}" /></a></li>
                                        <li><a href="children.xhtml"> 
                                                <h:outputText value="#{bundle['nav.children']}" /></a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="brands_products" style="margin-top: 20px;">
                                <h4 style="padding-left: 25px;"><strong>SUB CATEGORIES</strong></h4>
                                <div class="brands-name">
                                    <ul class="nav nav-pills nav-stacked">
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.bedding']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.tables']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.chairs']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.mirrors']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.lighting']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.cooking']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.sofas']}" /></a></li>                                                
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.wardrobes']}" /></a></li>
                                        <li><a href="#">
                                                <h:outputText value="#{bundle['subnav.textile']}" /></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-9 padding-right">
                        <div class="features_items"><!--features_items-->
                            <h2 class="title text-center">FEATURED FURNITURE</h2>
                            <ui:repeat value="#{homeManagedBean.featuredFurniture}" var="furniture">
                                <div class="col-sm-4">
                                    <div class="product-image-wrapper">
                                        <div class="single-products">
                                            <div class="productinfo text-center">
                                                    <a href="productdetail.xhtml?id=#{furniture.id}">
                                                        <pf:graphicImage value="#{pictureManagedBean.image}" rendered="#{not empty furniture.thumbnail.content}">
                                                            <f:param name="pictureId" value="#{furniture.thumbnail.id}" />
                                                        </pf:graphicImage>
                                                        <h:panelGroup layout="block" rendered="#{empty furniture.thumbnail.content}">
                                                            <img src="#{application.contextPath}/assets/images/nopic.jpg" alt="" />
                                                        </h:panelGroup>
                                                    </a>
                                                    <div style="min-height:16px;">
                                                    <h5 style="text-decoration:line-through;">
                                                        <h:outputText value="#{homeManagedBean.co.country.currency.currencyCode} " 
                                                            rendered="#{furniture.price > homeManagedBean.getDiscountedPrice(furniture)}"/>
                                                        <h:outputText value="#{furniture.price}" 
                                                            rendered="#{furniture.price > homeManagedBean.getDiscountedPrice(furniture)}">
                                                        <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                                        </h:outputText>
                                                    </h5>
                                                    </div>
                                                    <h4><strong>#{homeManagedBean.co.country.currency.currencyCode}
                                                    <h:outputText value="#{homeManagedBean.getDiscountedPrice(furniture)}" id="discounted">
                                                        <f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
                                                    </h:outputText></strong>
                                                    </h4>
                                                    <a href="productdetail.xhtml?id=#{furniture.id}"><h5>#{furniture.name}</h5></a>
                                            </div>									
                                        </div>
                                    </div>
                                </div>
                            </ui:repeat>
                        </div><!--features_items-->
                    </div>
                </div>
            </div>
        </section>
    </ui:define>
</ui:composition>